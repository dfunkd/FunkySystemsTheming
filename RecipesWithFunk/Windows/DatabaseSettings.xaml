<Window x:Class="RecipesWithFunk.Windows.DatabaseSettings"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:local="clr-namespace:RecipesWithFunk.Windows"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:cc="clr-namespace:RecipesWithFunk.CustomControls"
        xmlns:vm="clr-namespace:RecipesWithFunk.ViewModels"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Width="900"
        mc:Ignorable="d"
        Background="Transparent"
        ResizeMode="NoResize"
        SizeToContent="Height"
        Title="RecipesWithFunkWindow"
        WindowStartupLocation="CenterScreen"
        WindowStyle="None">
    
    <Window.CommandBindings>
        <CommandBinding Command="{x:Static local:DatabaseSettings.CancelCommand}" CanExecute="CanExecuteCancelCommand" Executed="ExecutedCancelCommand" />
        <CommandBinding Command="{x:Static local:DatabaseSettings.TestConnectionCommand}" CanExecute="CanExecuteTestConnectionCommand" Executed="ExecutedTestConnectionCommand" />
        <CommandBinding Command="{x:Static local:DatabaseSettings.SaveCommand}" CanExecute="CanExecuteSaveCommand" Executed="ExecutedSaveCommand" />
    </Window.CommandBindings>

    <Window.DataContext>
        <vm:DatabaseSettingsViewModel />
    </Window.DataContext>
    
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <Border Grid.Row="0" Background="{DynamicResource HeaderFade}" BorderThickness="0" CornerRadius="0, 0, 0, 0" Padding="0, 0, 0, 15" Margin="0, 0, 0, 0" MouseDown="OnDrag">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="55" />
                    <ColumnDefinition Width="5*" />
                    <ColumnDefinition Width="55" />
                </Grid.ColumnDefinitions>

                <StackPanel Grid.Column="1" HorizontalAlignment="Center" Orientation="Horizontal">
                    <TextBlock Foreground="{DynamicResource DarkerHeaderFade}" FontWeight="Bold" FontSize="24" HorizontalAlignment="Left" Margin="10, 8, 5, 0"
                               Text="Recipes With" VerticalAlignment="Center" />
                    <cc:OutlinedTextBlock FontFamily="Comic Sans MS" FontSize="48" FontWeight="Bold" Fill="{DynamicResource RuanRedFade}" HorizontalAlignment="Right"
                              Margin="15, 0" Text="Funk" VerticalAlignment="Center" />
                    <TextBlock Foreground="{DynamicResource DarkerHeaderFade}" FontWeight="Bold" FontSize="24" HorizontalAlignment="Left" Margin="10, 8, 5, 0"
                               Text="Database Settings" VerticalAlignment="Center" />
                </StackPanel>
            </Grid>
        </Border>

        <Grid Grid.Row="1" Background="{DynamicResource Darker}">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>

            <Border Grid.Column="0" Grid.ColumnSpan="3" Background="{DynamicResource HeaderFade}" BorderBrush="{DynamicResource Darkest}" BorderThickness="1" CornerRadius="8" Margin="10, 5">
                <DockPanel LastChildFill="True">
                    <TextBlock DockPanel.Dock="Left" FontSize="14" FontWeight="Bold" Foreground="{DynamicResource Lightest}" HorizontalAlignment="Right" Margin="5, 0"
                               Padding="0, 5" Text="Server Name" TextAlignment="Right"  VerticalAlignment="Center" Width="125" />
                    <TextBox x:Name="txtServerName" DockPanel.Dock="Left" Background="{DynamicResource Lighter}" BorderBrush="{DynamicResource Darkest}" FontSize="14"
                             Foreground="{DynamicResource Darkest}" HorizontalAlignment="Stretch" Margin="0, 0, 10, 0" Text="{Binding Path=ServerName, Mode=TwoWay}"
                             VerticalAlignment="Center" />
                </DockPanel>
            </Border>

            <Border Grid.Column="3" Grid.ColumnSpan="3" Background="{DynamicResource HeaderFade}" BorderBrush="{DynamicResource Darkest}" BorderThickness="1" CornerRadius="8" Margin="10, 5">
                <DockPanel LastChildFill="True">
                    <TextBlock DockPanel.Dock="Left" FontSize="14" FontWeight="Bold" Foreground="{DynamicResource Lightest}" HorizontalAlignment="Right" Margin="5, 0"
                               Padding="0, 5" Text="Initial Catalog" TextAlignment="Right"  VerticalAlignment="Center" Width="125" />
                    <TextBox x:Name="txtInitialCatalog" DockPanel.Dock="Left" Background="{DynamicResource Lighter}" BorderBrush="{DynamicResource Darkest}" FontSize="14"
                             Foreground="{DynamicResource Darkest}" HorizontalAlignment="Stretch" Margin="0, 0, 10, 0" Text="{Binding Path=InitialCatalog, Mode=TwoWay}"
                             VerticalAlignment="Center" />
                </DockPanel>
            </Border>

            <Border Grid.Column="0" Grid.ColumnSpan="2" Grid.Row="1" Background="{DynamicResource HeaderFade}" BorderBrush="{DynamicResource Darkest}" BorderThickness="1" CornerRadius="8" HorizontalAlignment="Center" Margin="10, 5">
                <DockPanel LastChildFill="True">
                    <TextBlock DockPanel.Dock="Left" FontSize="14" FontWeight="Bold" Foreground="{DynamicResource Lightest}" HorizontalAlignment="Right" Margin="5, 0"
                               Padding="10, 5, 0, 5" Text="Integrated Security:" TextAlignment="Right"  VerticalAlignment="Center" />
                    <TextBlock DockPanel.Dock="Left" FontSize="14" Foreground="{DynamicResource Lightest}" HorizontalAlignment="Left" Margin="0, 0, 10, 0" Padding="0, 5" Text="True" TextAlignment="Left" VerticalAlignment="Center" />
                </DockPanel>
            </Border>

            <Border Grid.Column="2" Grid.ColumnSpan="2" Grid.Row="1" Background="{DynamicResource HeaderFade}" BorderBrush="{DynamicResource Darkest}" BorderThickness="1" CornerRadius="8" HorizontalAlignment="Center" Margin="10, 5">
                <DockPanel LastChildFill="True">
                    <TextBlock DockPanel.Dock="Left" FontSize="14" FontWeight="Bold" Foreground="{DynamicResource Lightest}" HorizontalAlignment="Right" Margin="5, 0"
                               Padding="10, 5, 0, 5" Text="Connection Lifetime:" TextAlignment="Right"  VerticalAlignment="Center" />
                    <TextBlock DockPanel.Dock="Left" FontSize="14" Foreground="{DynamicResource Lightest}" HorizontalAlignment="Left" Margin="0, 0, 10, 0" Padding="0, 5" Text="15" TextAlignment="Left" VerticalAlignment="Center" />
                </DockPanel>
            </Border>

            <Border Grid.Column="4" Grid.ColumnSpan="2" Grid.Row="1" Background="{DynamicResource HeaderFade}" BorderBrush="{DynamicResource Darkest}" BorderThickness="1" CornerRadius="8" HorizontalAlignment="Center" Margin="10, 5">
                <DockPanel LastChildFill="True">
                    <TextBlock DockPanel.Dock="Left" FontSize="14" FontWeight="Bold" Foreground="{DynamicResource Lightest}" HorizontalAlignment="Right" Margin="5, 0"
                               Padding="10, 5, 0, 5" Text="Connectino Timeout:" TextAlignment="Right"  VerticalAlignment="Center" />
                    <TextBlock DockPanel.Dock="Left" FontSize="14" Foreground="{DynamicResource Lightest}" HorizontalAlignment="Left" Margin="0, 0, 10, 0" Padding="0, 5" Text="180" TextAlignment="Left" VerticalAlignment="Center" />
                </DockPanel>
            </Border>

            <Border Grid.Column="0" Grid.ColumnSpan="2" Grid.Row="2" Background="{DynamicResource HeaderFade}" BorderBrush="{DynamicResource Darkest}" BorderThickness="1" CornerRadius="8" HorizontalAlignment="Center" Margin="10, 5">
                <DockPanel LastChildFill="True">
                    <TextBlock DockPanel.Dock="Left" FontSize="14" FontWeight="Bold" Foreground="{DynamicResource Lightest}" HorizontalAlignment="Right" Margin="5, 0"
                               Padding="10, 5, 0, 5" Text="Min Pool:" TextAlignment="Right"  VerticalAlignment="Center" />
                    <TextBlock DockPanel.Dock="Left" FontSize="14" Foreground="{DynamicResource Lightest}" HorizontalAlignment="Left" Margin="0, 0, 10, 0" Padding="0, 5" Text="1" TextAlignment="Left" VerticalAlignment="Center" />
                </DockPanel>
            </Border>

            <Border Grid.Column="2" Grid.ColumnSpan="2" Grid.Row="2" Background="{DynamicResource HeaderFade}" BorderBrush="{DynamicResource Darkest}" BorderThickness="1" CornerRadius="8" HorizontalAlignment="Center" Margin="10, 5">
                <DockPanel LastChildFill="True">
                    <TextBlock DockPanel.Dock="Left" FontSize="14" FontWeight="Bold" Foreground="{DynamicResource Lightest}" HorizontalAlignment="Right" Margin="5, 0"
                               Padding="10, 5, 0, 5" Text="Max Pool:" TextAlignment="Right"  VerticalAlignment="Center" />
                    <TextBlock DockPanel.Dock="Left" FontSize="14" Foreground="{DynamicResource Lightest}" HorizontalAlignment="Left" Margin="0, 0, 10, 0" Padding="0, 5" Text="225" TextAlignment="Left" VerticalAlignment="Center" />
                </DockPanel>
            </Border>

            <Border Grid.Column="4" Grid.ColumnSpan="2" Grid.Row="2" Background="{DynamicResource HeaderFade}" BorderBrush="{DynamicResource Darkest}" BorderThickness="1" CornerRadius="8" HorizontalAlignment="Center" Margin="10, 5">
                <DockPanel LastChildFill="True">
                    <TextBlock DockPanel.Dock="Left" FontSize="14" FontWeight="Bold" Foreground="{DynamicResource Lightest}" HorizontalAlignment="Right" Margin="5, 0"
                               Padding="10, 5, 0, 5" Text="Trust Server Certificate:" TextAlignment="Right"  VerticalAlignment="Center" />
                    <TextBlock DockPanel.Dock="Left" FontSize="14" Foreground="{DynamicResource Lightest}" HorizontalAlignment="Left" Margin="0, 0, 10, 0" Padding="0, 5" Text="True" TextAlignment="Left" VerticalAlignment="Center" />
                </DockPanel>
            </Border>
            
            <DockPanel Grid.Column="0" Grid.ColumnSpan="6" Grid.Row="3" HorizontalAlignment="Stretch" LastChildFill="True" Margin="10">
                <Button DockPanel.Dock="Left" Command="local:DatabaseSettings.TestConnectionCommand" Content="Test Connection" Height="35" Margin="0, 0, 5, 0" />
                <TextBlock DockPanel.Dock="Left" FontSize="16" FontWeight="Bold" Foreground="{DynamicResource Lightest}" HorizontalAlignment="Left" Margin="20, 0"
                           Text="{Binding Path=TestResult}" VerticalAlignment="Center" />
                <Button DockPanel.Dock="Right" Command="local:DatabaseSettings.CancelCommand" Content="Cancel" Height="35" Margin="5, 0, 0, 0" />
                <Button DockPanel.Dock="Right" Command="local:DatabaseSettings.SaveCommand" Content="Save" Height="35" Margin="5, 0" />
                <Rectangle DockPanel.Dock="Left" />
            </DockPanel>
        </Grid>
    </Grid>
</Window>
